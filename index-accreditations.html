<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hero Section</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @font-face {
            font-family: 'Queens Medium';
            src: url('fonts/Queens-Medium.woff2') format('woff2');
            font-weight: 500;
            font-style: normal;
            font-display: swap;
        }
        
        @font-face {
            font-family: 'Helvetica Now Display';
            src: url('fonts/HelveticaNowDisplay-Regular.woff2') format('woff2');
            font-weight: 400;
            font-style: normal;
            font-display: swap;
        }
        
        body {
            font-family: 'Helvetica Now Display', sans-serif;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Queens Medium', serif;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'queens': ['Queens Medium', 'serif'],
                        'helvetica': ['Helvetica Now Display', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-helvetica">
    <!-- Rankings & Accreditations Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-4 md:px-8">
            <!-- Header with Title and Navigation -->
            <div class="flex items-center justify-between mb-8">
                <h2 class="text-4xl md:text-5xl font-queens text-gray-900">Rankings & Accreditations</h2>
                <div class="flex gap-3">
                    <button 
                        id="prevBtn" 
                        class="w-12 h-12 rounded-full border-2 border-gray-300 flex items-center justify-center hover:border-gray-900 hover:bg-gray-50 transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed"
                        aria-label="Previous"
                    >
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                        </svg>
                    </button>
                    <button 
                        id="nextBtn" 
                        class="w-12 h-12 rounded-full border-2 border-gray-300 flex items-center justify-center hover:border-gray-900 hover:bg-gray-50 transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed"
                        aria-label="Next"
                    >
                        <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Carousel Container -->
            <div 
                id="carousel" 
                class="flex gap-3 sm:gap-4 md:gap-6 overflow-x-auto scroll-smooth scrollbar-hide"
                style="scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch;"
            >
                <!-- Cards will be generated by JavaScript -->
            </div>

            <!-- Pagination Dots -->
            <div id="pagination" class="flex justify-center gap-2 mt-8">
                <!-- Dots will be generated by JavaScript -->
            </div>
        </div>
    </section>

    <style>
        /* Hide scrollbar but keep functionality */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }

        /* Ensure cards maintain aspect ratio */
        .carousel-card > div {
            height: 100%;
        }

        /* Pagination dot diamond shape */
        .pagination-dot {
            transform: rotate(45deg);
        }
        .pagination-dot.active {
            background-color: #111827;
            border-color: #111827;
        }
        .pagination-dot:not(.active) {
            background-color: white;
            border: 1px solid #9ca3af;
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>

    <script>
        (function() {
            // Accreditation data
            const accreditations = [
                {
                    image: '/images/accreditations/c-nirf.jpg',
                    alt: 'NIRF Ranking',
                    description: "Ranked 58 amongst India's top universities in 2025",
                    badge: 'Top 60'
                },
                {
                    image: '/images/accreditations/c-naac.jpg',
                    alt: 'NAAC Accreditation',
                    description: "Rajasthan's 1st NAAC A+ Accredited University",
                    badge: null
                },
                {
                    image: '/images/accreditations/c-times.jpg',
                    alt: 'QS World University Rankings',
                    description: "Amongst South Asia's Top Universities (2026)",
                    badge: 'Top 195'
                },
                {
                    image: '/images/accreditations/c-ugc.jpg',
                    alt: 'UGC Entitlement',
                    description: 'UGC-entitled Online Degrees Equivalent to Campus Degree',
                    badge: null
                },
                {
                    image: '/images/accreditations/c-acca.jpg',
                    alt: 'ACCA Accreditation',
                    description: 'ACCA Accredited Programs',
                    badge: null
                },
                {
                    image: '/images/accreditations/c-aiu.jpg',
                    alt: 'AIU Recognition',
                    description: 'Recognized by Association of Indian Universities',
                    badge: null
                },
                {
                    image: '/images/accreditations/c-iacb.jpg',
                    alt: 'IACB Accreditation',
                    description: 'International Accreditation Council for Business',
                    badge: null
                },
                {
                    image: '/images/accreditations/c-iau.jpg',
                    alt: 'IAU Recognition',
                    description: 'International Association of Universities Recognition',
                    badge: null
                },
                {
                    image: '/images/accreditations/c-wes.jpg',
                    alt: 'WES Recognition',
                    description: 'World Education Services Recognized',
                    badge: null
                }
            ];

            const carousel = document.getElementById('carousel');
            const paginationContainer = document.getElementById('pagination');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            let currentIndex = 0;
            let cardsPerView = 1;
            let isScrolling = false;
            let paginationDots = [];
            let cards = [];

            // Generate card HTML using template literal
            function generateCardHTML(accreditation, index) {
                const badgeHTML = accreditation.badge 
                    ? `<div class="absolute top-0 left-1/2 transform -translate-x-1/2 bg-red-600 text-white text-xs font-semibold px-4 py-1.5 z-10" style="clip-path: polygon(0 0, 100% 0, 95% 100%, 5% 100%);">${accreditation.badge}</div>`
                    : '';
                
                const paddingTop = accreditation.badge ? 'pt-8' : 'pt-6';
                
                return `
                    <div class="carousel-card flex-shrink-0 w-[calc(100%-0.75rem)] min-[360px]:w-[calc(66.67%-0.5rem)] md:w-[calc(33.33%-1rem)] lg:w-[calc(20%-1.125rem)] scroll-snap-align-start">
                        <div class="bg-white rounded-2xl shadow-md hover:shadow-xl hover:scale-105 transition-all duration-300 relative overflow-hidden aspect-[3/4] flex flex-col">
                            ${badgeHTML}
                            <div class="${paddingTop} pb-6 px-4 sm:px-6 md:px-8 flex-1 flex flex-col justify-between">
                                <div class="flex items-center justify-center flex-1 mb-4">
                                    <img src="${accreditation.image}" alt="${accreditation.alt}" class="max-h-full max-w-full object-contain">
                                </div>
                                <p class="text-sm md:text-base text-gray-700 text-center leading-relaxed">
                                    ${accreditation.description}
                                </p>
                            </div>
                        </div>
                    </div>
                `;
            }

            // Generate pagination dots HTML
            function generatePaginationHTML() {
                return accreditations.map((_, index) => {
                    const isActive = index === 0;
                    const activeClasses = isActive 
                        ? 'bg-gray-900' 
                        : 'border border-gray-400 bg-white';
                    
                    return `
                        <button 
                            class="pagination-dot w-3 h-3 ${activeClasses} transition-all duration-300"
                            data-index="${index}"
                            aria-label="Go to slide ${index + 1}"
                        ></button>
                    `;
                }).join('');
            }

            // Initialize carousel
            function initializeCarousel() {
                // Generate and insert cards
                const cardsHTML = accreditations.map((acc, index) => generateCardHTML(acc, index)).join('');
                carousel.innerHTML = cardsHTML;
                
                // Generate and insert pagination dots
                paginationContainer.innerHTML = generatePaginationHTML();
                
                // Update references
                cards = carousel.querySelectorAll('.carousel-card');
                paginationDots = document.querySelectorAll('.pagination-dot');
                
                // Add event listeners to pagination dots
                paginationDots.forEach((dot, index) => {
                    dot.addEventListener('click', () => scrollToCard(index));
                });
                
                // Initialize carousel functionality
                calculateCardsPerView();
                updateNavigation();
                updatePagination();
            }

            // Initialize on page load
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeCarousel);
            } else {
                initializeCarousel();
            }

            // Calculate cards per view based on screen size
            function calculateCardsPerView() {
                const width = window.innerWidth;
                if (width >= 1024) {
                    cardsPerView = 4.5; // Desktop: 4 full + 0.5 + 0.5 = 5 cards visible
                } else if (width >= 768) {
                    cardsPerView = 2.5; // Tablet: 2 full + 0.5 + 0.5 = 3 cards visible
                } else if (width >= 360) {
                    cardsPerView = 1.5; // Small: 1 full + 0.5 = 1.5 cards visible
                } else {
                    cardsPerView = 1; // Extra small: 1 full card
                }
            }

            // Update navigation buttons state
            function updateNavigation() {
                if (cards.length === 0) return;
                const maxScroll = carousel.scrollWidth - carousel.clientWidth;
                prevBtn.disabled = carousel.scrollLeft <= 0;
                nextBtn.disabled = carousel.scrollLeft >= maxScroll - 10; // 10px tolerance
            }

            // Get gap value based on screen size
            function getGap() {
                const width = window.innerWidth;
                if (width >= 768) {
                    return 24; // md:gap-6 = 1.5rem = 24px
                } else if (width >= 360) {
                    return 16; // sm:gap-4 = 1rem = 16px
                } else {
                    return 12; // gap-3 = 0.75rem = 12px
                }
            }

            // Update pagination dots
            function updatePagination() {
                if (cards.length === 0 || paginationDots.length === 0) return;
                const cardWidth = cards[0].offsetWidth;
                const gap = getGap();
                const scrollPosition = carousel.scrollLeft;
                const newIndex = Math.round(scrollPosition / (cardWidth + gap));
                
                if (newIndex !== currentIndex && newIndex < paginationDots.length && newIndex >= 0) {
                    currentIndex = newIndex;
                    paginationDots.forEach((dot, index) => {
                        if (index === currentIndex) {
                            dot.classList.add('active', 'bg-gray-900');
                            dot.classList.remove('border', 'border-gray-400', 'bg-white');
                        } else {
                            dot.classList.remove('active', 'bg-gray-900');
                            dot.classList.add('border', 'border-gray-400', 'bg-white');
                        }
                    });
                }
            }

            // Scroll to specific card
            function scrollToCard(index) {
                if (cards.length === 0 || index < 0 || index >= cards.length) return;
                
                const cardWidth = cards[0].offsetWidth;
                const gap = getGap();
                const scrollPosition = index * (cardWidth + gap);
                
                carousel.scrollTo({
                    left: scrollPosition,
                    behavior: 'smooth'
                });
                
                currentIndex = index;
                updatePagination();
            }

            // Scroll by cards per view
            function scrollNext() {
                if (isScrolling || cards.length === 0) return;
                isScrolling = true;
                
                const cardWidth = cards[0].offsetWidth;
                const gap = getGap();
                const scrollAmount = Math.floor(cardsPerView) * (cardWidth + gap);
                const maxScroll = carousel.scrollWidth - carousel.clientWidth;
                const newScrollLeft = Math.min(carousel.scrollLeft + scrollAmount, maxScroll);
                
                carousel.scrollTo({
                    left: newScrollLeft,
                    behavior: 'smooth'
                });
                
                setTimeout(() => {
                    isScrolling = false;
                }, 300);
            }

            function scrollPrev() {
                if (isScrolling || cards.length === 0) return;
                isScrolling = true;
                
                const cardWidth = cards[0].offsetWidth;
                const gap = getGap();
                const scrollAmount = Math.floor(cardsPerView) * (cardWidth + gap);
                const newScrollLeft = Math.max(carousel.scrollLeft - scrollAmount, 0);
                
                carousel.scrollTo({
                    left: newScrollLeft,
                    behavior: 'smooth'
                });
                
                setTimeout(() => {
                    isScrolling = false;
                }, 300);
            }

            // Debounced scroll handler
            let scrollTimeout;
            function handleScroll() {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    updateNavigation();
                    updatePagination();
                }, 100);
            }

            // Event listeners
            prevBtn.addEventListener('click', scrollPrev);
            nextBtn.addEventListener('click', scrollNext);
            carousel.addEventListener('scroll', handleScroll);

            // Keyboard navigation
            document.addEventListener('keydown', (e) => {
                if (document.activeElement === carousel || carousel.contains(document.activeElement)) {
                    if (e.key === 'ArrowLeft') {
                        e.preventDefault();
                        scrollPrev();
                    } else if (e.key === 'ArrowRight') {
                        e.preventDefault();
                        scrollNext();
                    }
                }
            });

            // Window resize handler
            let resizeTimeout;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    calculateCardsPerView();
                    updateNavigation();
                    updatePagination();
                }, 250);
            });

        })();
    </script>
</body>
</html>